<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Strike Defender ‚Äì SOC Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Inter, system-ui, sans-serif;
}

body {
  background: #0e1117;
  color: #e5e7eb;
}

.app {
  display: flex;
  height: 100vh;
}

/* Sidebar */
.sidebar {
  width: 220px;
  background: #0b0f14;
  padding: 20px;
}

.sidebar h2 {
  margin-bottom: 25px;
}

.sidebar ul li {
  list-style: none;
  padding: 12px;
  border-radius: 6px;
  cursor: pointer;
  margin-bottom: 5px;
}

.sidebar ul li.active,
.sidebar ul li:hover {
  background: #1f2937;
}

/* Main */
.main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

/* Topbar ‚Äì TRUE CENTER */
.topbar {
  position: relative;
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.topbar h1 {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-weight: 600;
  letter-spacing: 1px;
  font-size: 60px;
  color: #08a808;
}

.topbar input {
  margin-left: auto;
  background: #1f2937;
  border: none;
  padding: 10px 14px;
  color: white;
  border-radius: 6px;
  width: 260px;
}

/* Cards */
.stats, .charts {
  display: grid;
  gap: 20px;
  margin-bottom: 20px;
}

.stats { grid-template-columns: repeat(3, 1fr); }
.charts { grid-template-columns: 2fr 1fr; }

.card {
  background: #111827;
  padding: 20px;
  border-radius: 12px;
}

.card h4 {
  color: #9ca3af;
  margin-bottom: 10px;
}

.card p {
  font-size: 30px;
  font-weight: bold;
}

.green { color: #22c55e; }

/* Controls */
.controls {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.controls button, .controls select {
  background: #1f2937;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
}

/* Table */
table {
  width: 100%;
  border-collapse: collapse;
}

thead { background: #1f2937; }

th, td {
  padding: 12px;
  text-align: left;
  font-size: 14px;
}

tbody tr:hover {
  background: #1f2937;
}
</style>
</head>

<body>
<div class="app">

  <aside class="sidebar">
    <h2>üõ° SOC Admin</h2>
    <ul>
      <li class="active">Dashboard</li>
      <a href="ball.html" style="color: white; font-size:large;"><li>Global ball</li></a>

    </ul>
  </aside>

  <main class="main">

    <!-- Topbar -->
    <div class="topbar">
      <h1>Strike Defender</h1>
      <input placeholder="Search logs, IPs, or threats..." />
    </div>

    <!-- Stats -->
    <section class="stats">
      <div class="card">
        <h4>Total Attacks (24h)</h4>
        <p id="attacks">0</p>
        <span class="green">Live</span>
      </div>
      <div class="card">
        <h4>Blocking Success Rate</h4>
        <p>99.8%</p>
        <span class="green">Healthy</span>
      </div>
      <div class="card">
        <h4>Active Rules</h4>
        <p>42</p>
        <span>Firewall ¬∑ IDS ¬∑ WAF</span>
      </div>
    </section>

    <!-- Controls -->
    <div class="controls">
      <button onclick="toggleRun()">‚èØ Pause</button>
      <button onclick="resetAll()">üîÑ Reset</button>
      <select onchange="setFilter(this.value)">
        <option value="ALL">All Severities</option>
        <option>High</option>
        <option>Medium</option>
        <option>Critical</option>
      </select>
      <button onclick="toggleTheme()">üåó Theme</button>
    </div>

    <!-- Charts -->
    <section class="charts">
      <div class="card">
        <h4>Borsa-Style Threat Index</h4>
        <canvas id="lineChart"></canvas>
      </div>
      <div class="card">
        <h4>Threat Distribution</h4>
        <canvas id="pieChart"></canvas>
      </div>
    </section>

    <!-- Table -->
    <section class="card">
      <h4>Recent Attacks</h4>
      <table>
        <thead>
          <tr>
            <th>Time</th>
            <th>Source IP</th>
            <th>Type</th>
            <th>Target</th>
            <th>Severity</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="attackTable"></tbody>
      </table>
    </section>

  </main>
</div>

<script>
/* ========== CONFIG ========== */
const CONFIG = {
  attackInterval: 2500,
  statsInterval: 2000,
  maxRows: 8,
  chartWindow: 20,
  startPrice: 10500,
  volatility: 120,

  types: ["SQL Injection", "XSS", "DDoS", "Brute Force"],
  targets: ["/login", "/admin", "/api/users", "/"],
  severities: ["High", "Medium", "Critical"],
  severityColors: {
    High: "#f97316",
    Medium: "#facc15",
    Critical: "#ef4444"
  }
};

/* ========== STATE ========== */
const state = {
  running: true,
  attacks: 0,
  filter: "ALL",
  theme: "dark"
};

/* ========== DOM ========== */
const attacksEl = document.getElementById("attacks");
const table = document.getElementById("attackTable");

/* ========== THEME ========== */
function applyTheme() {
  document.body.style.background =
    state.theme === "dark" ? "#0e1117" : "#f3f4f6";
  document.body.style.color =
    state.theme === "dark" ? "#e5e7eb" : "#111827";
}
applyTheme();

function toggleTheme() {
  state.theme = state.theme === "dark" ? "light" : "dark";
  applyTheme();
}

/* ========== STATS ========== */
setInterval(() => {
  if (!state.running) return;
  state.attacks += rand(5, 15);
  attacksEl.textContent = state.attacks.toLocaleString();
}, CONFIG.statsInterval);

/* ========== BORSA CHART ========== */
let price = CONFIG.startPrice;
const ctx = document.getElementById("lineChart").getContext("2d");

const gradient = ctx.createLinearGradient(0, 0, 0, 300);
gradient.addColorStop(0, "rgba(34,197,94,0.4)");
gradient.addColorStop(1, "rgba(34,197,94,0)");

const marketChart = new Chart(ctx, {
  type: "line",
  data: {
    labels: [],
    datasets: [{
      data: [],
      borderWidth: 2,
      pointRadius: 0,
      tension: 0.35,
      borderColor: "#22c55e",
      backgroundColor: gradient,
      fill: true
    }]
  },
  options: {
    animation: false,
    plugins: { legend: { display: false } },
    scales: {
      x: { ticks: { color: "#9ca3af" }, grid: { display: false } },
      y: { ticks: { color: "#9ca3af" } }
    }
  }
});

setInterval(() => {
  if (!state.running) return;

  const change = (Math.random() - 0.5) * CONFIG.volatility;
  const last = price;
  price += change;

  marketChart.data.datasets[0].borderColor =
    price < last ? "#ef4444" : "#22c55e";

  marketChart.data.labels.push(time());
  marketChart.data.datasets[0].data.push(price);

  if (marketChart.data.labels.length > CONFIG.chartWindow) {
    marketChart.data.labels.shift();
    marketChart.data.datasets[0].data.shift();
  }
  marketChart.update();
}, 1500);

/* ========== PIE CHART ========== */
const pieChart = new Chart(document.getElementById("pieChart"), {
  type: "doughnut",
  data: {
    labels: CONFIG.severities,
    datasets: [{
      data: [0, 0, 0],
      backgroundColor: Object.values(CONFIG.severityColors)
    }]
  }
});

/* ========== ATTACKS ========== */
function addAttack() {
  if (!state.running) return;

  const severity = pick(CONFIG.severities);
  if (state.filter !== "ALL" && severity !== state.filter) return;

  const row = document.createElement("tr");
  row.innerHTML = `
    <td>${time()}</td>
    <td>${ip()}</td>
    <td>${pick(CONFIG.types)}</td>
    <td>${pick(CONFIG.targets)}</td>
    <td style="color:${CONFIG.severityColors[severity]}">${severity}</td>
    <td style="color:#22c55e">Blocked</td>
  `;

  table.prepend(row);
  while (table.rows.length > CONFIG.maxRows) table.deleteRow(CONFIG.maxRows);

  const i = CONFIG.severities.indexOf(severity);
  pieChart.data.datasets[0].data[i]++;
  pieChart.update();
}

setInterval(addAttack, CONFIG.attackInterval);

/* ========== CONTROLS ========== */
function toggleRun() { state.running = !state.running; }
function resetAll() {
  table.innerHTML = "";
  state.attacks = 0;
  attacksEl.textContent = "0";
  pieChart.data.datasets[0].data = [0,0,0];
  pieChart.update();
}
function setFilter(v) { state.filter = v; }

/* ========== UTILS ========== */
function rand(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
function ip() { return Array.from({length:4},()=>rand(0,255)).join("."); }
function time() { return new Date().toLocaleTimeString(); }
</script>

</body>
</html>
